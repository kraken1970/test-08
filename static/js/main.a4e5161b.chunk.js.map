{"version":3,"sources":["components/UI/MyModal/MyModal.module.css","components/UI/Pagination/Pagination.module.css","components/UI/Button/MyButton.module.css","components/UI/Input/MyInput.module.css","components/UI/Loader/Loader.module.css","context/index.js","pages/About.jsx","components/UI/Button/MyButton.jsx","components/UI/Input/MyInput.jsx","pages/Login.jsx","API/PostService.js","components/UI/Loader/Loader.jsx","hooks/useFetching.js","pages/PostIdPage.jsx","hooks/usePost.js","utils/pages.js","components/UI/Select/MySelect.jsx","components/PostFilter.jsx","components/PostForm.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/MyModal/MyModal.jsx","components/UI/Pagination/Pagination.jsx","pages/Posts.jsx","router/index.js","components/AppRouter.jsx","components/UI/Navbar/Navbar.jsx","App.js","index.js"],"names":["module","exports","AuthContext","createContext","About","MyButton","children","props","className","classes","myBtn","MyInput","React","forwardRef","ref","myInput","Login","useContext","setIsAuth","isAuth","onSubmit","e","preventDefault","localStorage","setItem","type","placeholder","PostService","limit","page","axios","get","params","_limit","_page","response","id","Loader","loader","useFetching","callback","useState","isLoading","setIsLoading","error","setError","a","message","PostIdPage","useParams","post","setPost","comments","setComments","getById","data","fetchPostById","getCommentByPostId","fetchComments","isCommLoading","useEffect","title","map","comm","style","marginTop","name","email","body","usePosts","posts","sort","query","sortedPosts","useMemo","b","localeCompare","useSortedPosts","filter","toLowerCase","includes","getPageCount","totalCount","Math","ceil","MySelect","options","defaultValue","value","onChange","target","disabled","option","PostFilter","setFilter","selectedSort","PostForm","create","onClick","newPost","Date","now","PostItem","router","useHistory","number","push","remove","PostList","length","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","MyModal","visible","setVisible","myModal","active","stopPropagation","myModalContent","Pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","pageWrapper","p","pageCurrent","Posts","privateRoutes","path","component","exact","setPosts","modal","setModal","setTotalPages","setPage","sortedAndSearchPosts","getAll","headers","fetchPosts","isPostLoading","postError","margin","display","justifyContent","publicRoutes","AppRouter","route","to","Navbar","removeItem","App","getItem","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4e5161b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__3wunW\",\"myModalContent\":\"MyModal_myModalContent__3NJ2c\",\"active\":\"MyModal_active__2TUBd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Pagination_pageWrapper__3kR_5\",\"page\":\"Pagination_page__3d9h9\",\"pageCurrent\":\"Pagination_pageCurrent__2_d2l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__2rvqy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__284B3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1MjUl\",\"rotate\":\"Loader_rotate__3fyxQ\"};","import { createContext } from 'react'\n\nexport const AuthContext = createContext(null)\n","const About = () => {\n  return (\n    <div>\n      <p>about</p>\n    </div>\n  )\n}\n\nexport default About\n","import classes from './MyButton.module.css'\n\nconst MyButton = ({ children, ...props }) => {\n  return (\n    <button {...props} className={classes.myBtn}>\n      {children}\n    </button>\n  )\n}\n\nexport default MyButton\n","import React from 'react'\nimport classes from './MyInput.module.css'\n\nconst MyInput = React.forwardRef((props, ref) => {\n  return <input ref={ref} {...props} className={classes.myInput} />\n})\n\nexport default MyInput\n","import { useContext } from 'react'\nimport MyButton from '../components/UI/Button/MyButton'\nimport MyInput from '../components/UI/Input/MyInput'\nimport { AuthContext } from '../context'\n\nconst Login = () => {\n  const { isAuth, setIsAuth } = useContext(AuthContext)\n\n  const login = (e) => {\n    e.preventDefault()\n    setIsAuth(true)\n    localStorage.setItem('auth', true)\n  }\n\n  return (\n    <div>\n      <h1>Autorization page</h1>\n      <form onSubmit={login}>\n        <MyInput type='text' placeholder='Enter your name' />\n        <MyInput type='password' placeholder='Enter your password' />\n        <MyButton>Enter</MyButton>\n      </form>\n    </div>\n  )\n}\n\nexport default Login\n","import axios from 'axios'\n\nexport default class PostService {\n  static async getAll(limit = 10, page = 1) {\n    const response = await axios.get(\n      'https://jsonplaceholder.typicode.com/posts',\n      {\n        params: {\n          _limit: limit,\n          _page: page,\n        },\n      }\n    )\n    return response\n  }\n\n  static async getById(id) {\n    const response = await axios.get(\n      'https://jsonplaceholder.typicode.com/posts/' + id\n    )\n    return response\n  }\n\n  static async getCommentByPostId(id) {\n    const response = await axios.get(\n      `https://jsonplaceholder.typicode.com/posts/${id}/comments`\n    )\n    return response\n  }\n}\n","import React from 'react'\nimport classes from './Loader.module.css'\n\nconst Loader = () => {\n  return (\n    <div className={classes.loader}>\n      <p>LOADING...</p>\n    </div>\n  )\n}\n\nexport default Loader\n","import { useState } from 'react'\n\nexport const useFetching = (callback) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  const fetching = async (...args) => {\n    try {\n      setIsLoading(true)\n      await callback(...args)\n    } catch (e) {\n      setError(e.message)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return [fetching, isLoading, error]\n}\n","import { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport PostService from '../API/PostService'\nimport Loader from '../components/UI/Loader/Loader'\nimport { useFetching } from '../hooks/useFetching'\n\nconst PostIdPage = () => {\n  const params = useParams()\n  const [post, setPost] = useState({})\n  const [comments, setComments] = useState([])\n\n  const [fetchPostById, isLoading, error] = useFetching(async (id) => {\n    const response = await PostService.getById(id)\n    setPost(response.data)\n  })\n\n  const [fetchComments, isCommLoading, comError] = useFetching(async (id) => {\n    const response = await PostService.getCommentByPostId(id)\n    setComments(response.data)\n  })\n\n  useEffect(() => {\n    fetchPostById(params.id)\n    fetchComments(params.id)\n  }, [])\n\n  return (\n    <div>\n      <h1>Post ID = {params.id}</h1>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div>\n          {post.id}. {post.title}\n        </div>\n      )}\n\n      <h2>Comments</h2>\n\n      {isCommLoading ? (\n        <Loader />\n      ) : (\n        <div>\n          {comments.map((comm) => (\n            <div key={comm.id} style={{ marginTop: 15 }}>\n              <h4>{comm.name}</h4>\n              <h5>{comm.email}</h5>\n              <div>{comm.body}</div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default PostIdPage\n","import { useMemo } from 'react'\n\nexport const useSortedPosts = (posts, sort) => {\n  const sortedPosts = useMemo(() => {\n    if (sort) {\n      return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\n    }\n    return posts\n  }, [sort, posts])\n  return sortedPosts\n}\n\nexport const usePosts = (posts, sort, query) => {\n  const sortedPosts = useSortedPosts(posts, sort)\n  const sortedAndSearchPosts = useMemo(() => {\n    return sortedPosts.filter((post) =>\n      post.title.toLowerCase().includes(query.toLowerCase())\n    )\n  }, [query, sortedPosts])\n  return sortedAndSearchPosts\n}\n","export const getPageCount = (totalCount, limit) => {\n  return Math.ceil(totalCount / limit)\n}\n\nexport const getPagesArray = (totalPages) => {\n  let result = []\n  for (let i = 0; i < totalPages; i++) {\n    result.push(i + 1)\n  }\n  return result\n}\n","const MySelect = ({ options, defaultValue, value, onChange }) => {\n  return (\n    <select value={value} onChange={(e) => onChange(e.target.value)}>\n      <option disabled value=''>\n        {defaultValue}\n      </option>\n      {options &&\n        options.map((option) => (\n          <option key={option.value} value={option.value}>\n            {option.name}\n          </option>\n        ))}\n    </select>\n  )\n}\n\nexport default MySelect\n","import MyInput from './UI/Input/MyInput'\nimport MySelect from './UI/Select/MySelect'\n\nconst PostFilter = ({ filter, setFilter }) => {\n  return (\n    <div>\n      <MyInput\n        placeholder='поиск...'\n        value={filter.query}\n        onChange={(e) => setFilter({ ...filter, query: e.target.value })}\n      />\n      <MySelect\n        defaultValue='Сортировка'\n        options={[\n          { value: 'title', name: 'По названию' },\n          { value: 'body', name: 'По описанию' },\n        ]}\n        value={filter.sort}\n        onChange={(selectedSort) =>\n          setFilter({ ...filter, sort: selectedSort })\n        }\n      />\n    </div>\n  )\n}\n\nexport default PostFilter\n","import { useState } from 'react'\nimport MyInput from './UI/Input/MyInput'\nimport MyButton from './UI/Button/MyButton'\n\nconst PostForm = ({ create }) => {\n  const [post, setPost] = useState({ title: '', body: '' })\n\n  const addNewPost = (e) => {\n    e.preventDefault()\n    const newPost = {\n      ...post,\n      id: Date.now(),\n    }\n    create(newPost)\n    setPost({ title: '', body: '' })\n  }\n\n  return (\n    <form>\n      <MyInput\n        type='text'\n        placeholder='Название поста'\n        value={post.title}\n        onChange={(e) => setPost({ ...post, title: e.target.value })}\n      />\n\n      <MyInput\n        type='text'\n        placeholder='Описание поста'\n        value={post.body}\n        onChange={(e) => setPost({ ...post, body: e.target.value })}\n      />\n\n      <MyButton onClick={addNewPost}>Создать пост</MyButton>\n    </form>\n  )\n}\n\nexport default PostForm\n","import MyButton from './UI/Button/MyButton'\nimport { useHistory } from 'react-router-dom'\n\nconst PostItem = (props) => {\n  const router = useHistory()\n\n  return (\n    <div className='post'>\n      <div className='post__content'>\n        <strong>\n          {props.number}. {props.post.id}. {props.post.title}\n        </strong>\n        <div>{props.post.body}</div>\n      </div>\n      <div className='post__btns'>\n        <MyButton onClick={() => router.push(`/posts/${props.post.id}`)}>\n          Open\n        </MyButton>\n        <MyButton onClick={() => props.remove(props.post)}>Delete</MyButton>\n      </div>\n    </div>\n  )\n}\n\nexport default PostItem\n","import { CSSTransition, TransitionGroup } from 'react-transition-group'\nimport PostItem from './PostItem'\n\nconst PostList = ({ posts, title, remove }) => {\n  if (!posts.length) {\n    return <h1 style={{ textAlign: 'center' }}>Постов ещё нет!</h1>\n  }\n\n  return (\n    <div>\n      <h1 style={{ textAlign: 'center' }}>{title}</h1>\n      <TransitionGroup>\n        {posts &&\n          posts.map((post, index) => (\n            <CSSTransition key={post.id} timeout={500} classNames='post'>\n              <PostItem number={index + 1} post={post} remove={remove} />\n            </CSSTransition>\n          ))}\n      </TransitionGroup>\n    </div>\n  )\n}\n\nexport default PostList\n","import React from 'react'\nimport classNames from 'classnames'\nimport classes from './MyModal.module.css'\n\nconst MyModal = ({ children, visible, setVisible }) => {\n  const handleClose = (e) => {\n    setVisible(false)\n  }\n  return (\n    <div\n      onClick={handleClose}\n      className={classNames(classes.myModal, { [classes.active]: visible })}\n    >\n      <div\n        onClick={(e) => e.stopPropagation()}\n        className={classes.myModalContent}\n      >\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default MyModal\n","import { getPagesArray } from '../../../utils/pages'\nimport classes from './Pagination.module.css'\nimport classNames from 'classnames'\n\nconst Pagination = ({ totalPages, page, changePage }) => {\n  let pagesArray = getPagesArray(totalPages)\n  return (\n    <div className={classes.pageWrapper}>\n      {pagesArray.map((p) => (\n        <span\n          onClick={() => changePage(p)}\n          key={p}\n          className={classNames(classes.page, {\n            [classes.pageCurrent]: page === p,\n          })}\n        >\n          {p}\n        </span>\n      ))}\n    </div>\n  )\n}\n\nexport default Pagination\n","import { useState, useEffect } from 'react'\nimport PostService from '../API/PostService'\nimport { usePosts } from '../hooks/usePost'\nimport { useFetching } from '../hooks/useFetching'\nimport { getPageCount } from '../utils/pages'\nimport PostFilter from '../components/PostFilter'\nimport PostForm from '../components/PostForm'\nimport PostList from '../components/PostList'\nimport MyButton from '../components/UI/Button/MyButton'\nimport MyModal from '../components/UI/MyModal/MyModal'\nimport Loader from '../components/UI/Loader/Loader'\nimport Pagination from '../components/UI/Pagination/Pagination'\n\nfunction Posts() {\n  const [posts, setPosts] = useState([])\n  const [filter, setFilter] = useState({ sort: '', query: '' })\n  const [modal, setModal] = useState(false)\n  const [totalPages, setTotalPages] = useState(0)\n  const [limit, setLimit] = useState(10)\n  const [page, setPage] = useState(1)\n\n  const sortedAndSearchPosts = usePosts(posts, filter.sort, filter.query)\n\n  const [fetchPosts, isPostLoading, postError] = useFetching(\n    async (limit, page) => {\n      const response = await PostService.getAll(limit, page)\n      setPosts(response.data)\n      const totalCount = response.headers['x-total-count']\n      setTotalPages(getPageCount(totalCount, limit))\n    }\n  )\n\n  useEffect(() => {\n    fetchPosts(limit, page)\n  }, [])\n\n  const createPost = (newPost) => {\n    setPosts([...posts, newPost])\n    setModal(false)\n  }\n\n  const removePost = (post) => {\n    setPosts(posts.filter((p) => p.id !== post.id))\n  }\n\n  const changePage = (page) => {\n    setPage(page)\n    fetchPosts(limit, page)\n  }\n\n  return (\n    <div className='App'>\n      <MyButton onClick={() => setModal(true)} style={{ marginTop: '30px' }}>\n        Create post\n      </MyButton>\n      <MyModal visible={modal} setVisible={setModal}>\n        <PostForm create={createPost} />\n      </MyModal>\n\n      <hr style={{ margin: '15px 0' }} />\n      <PostFilter filter={filter} setFilter={setFilter} />\n\n      {postError && <h1>ошибка ${postError}</h1>}\n\n      <PostList\n        posts={sortedAndSearchPosts}\n        remove={removePost}\n        title='Посты про JS'\n      />\n\n      {isPostLoading && (\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            marginTop: '50px',\n          }}\n        >\n          <Loader />\n        </div>\n      )}\n      <Pagination page={page} changePage={changePage} totalPages={totalPages} />\n    </div>\n  )\n}\n\nexport default Posts\n","import About from '../pages/About'\nimport Login from '../pages/Login'\nimport PostIdPage from '../pages/PostIdPage'\nimport Posts from '../pages/Posts'\n\nexport const privateRoutes = [\n  { path: '/about', component: About, exact: true },\n  { path: '/posts', component: Posts, exact: true },\n  { path: '/posts/:id', component: PostIdPage, exact: true },\n]\n\nexport const publicRoutes = [{ path: '/login', component: Login, exact: true }]\n","import { useContext } from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { AuthContext } from '../context'\nimport { publicRoutes, privateRoutes } from '../router'\nimport Loader from './UI/Loader/Loader'\n\nconst AppRouter = () => {\n  const { isAuth, isLoading } = useContext(AuthContext)\n\n  if (isLoading) {\n    return <Loader />\n  }\n\n  return isAuth ? (\n    <Switch>\n      {privateRoutes.map((route) => (\n        <Route\n          key={route.path}\n          component={route.component}\n          path={route.path}\n          exact={route.exact}\n        />\n      ))}\n\n      <Redirect to='/posts' />\n    </Switch>\n  ) : (\n    <Switch>\n      {publicRoutes.map((route) => (\n        <Route\n          key={route.path}\n          component={route.component}\n          path={route.path}\n          exact={route.exact}\n        />\n      ))}\n      <Redirect to='/login' />\n    </Switch>\n  )\n}\n\nexport default AppRouter\n","import { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { AuthContext } from '../../../context'\nimport MyButton from '../Button/MyButton'\n\nconst Navbar = () => {\n  const { isAuth, setIsAuth } = useContext(AuthContext)\n\n  const logout = () => {\n    setIsAuth(false)\n    localStorage.removeItem('auth')\n  }\n\n  return (\n    <div className='navbar'>\n      <MyButton onClick={logout}>Exit</MyButton>\n      <div className='navbar__links'>\n        <Link to='/about'>About</Link>\n        <Link to='/posts'>Posts</Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Navbar\n","import { useEffect, useState } from 'react'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport AppRouter from './components/AppRouter'\nimport Navbar from './components/UI/Navbar/Navbar'\nimport { AuthContext } from './context'\n\nimport './styles/App.css'\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    if (localStorage.getItem('auth')) {\n      setIsAuth(true)\n    }\n    setIsLoading(false)\n  }, [])\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isAuth,\n        setIsAuth,\n        isLoading,\n      }}\n    >\n      <Router>\n        <Navbar />\n        <AppRouter />\n      </Router>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}